# Lithium Browser: Fix unit_tests build with safe_browsing_mode=0
#
# When safe_browsing_mode=0, the safe_browsing targets archive_analyzer_results
# and disk_image_type_sniffer_mac are not defined. This patch removes the
# unconditional dependencies on these targets from the macOS section of
# chrome/test/BUILD.gn.
#
# The targets only exist when safe_browsing_mode != 0:
# - //chrome/common/safe_browsing:archive_analyzer_results
# - //chrome/common/safe_browsing:disk_image_type_sniffer_mac

Index: src/chrome/test/BUILD.gn
===================================================================
--- src.orig/chrome/test/BUILD.gn
+++ src/chrome/test/BUILD.gn
@@ -7712,8 +7712,6 @@ test("unit_tests") {
       "//chrome/browser/renderer_host:history_swiper",
       "//chrome/browser/updater:browser_updater_client",
       "//chrome/common/notifications",
-      "//chrome/common/safe_browsing:archive_analyzer_results",
-      "//chrome/common/safe_browsing:disk_image_type_sniffer_mac",
       "//chrome/services/mac_notifications:unit_tests",
       "//chrome/services/mac_notifications/public/mojom",
       "//chrome/updater:browser_sources",
